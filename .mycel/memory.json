{
  "conventions": [
    {
      "id": "1f6db6e1",
      "content": "All tasks commit directly to master - no feature branches used. Verify build passes before committing with npm run build",
      "source": "manual",
      "created_at": "2026-01-24T23:59:48.704200",
      "tags": []
    },
    {
      "id": "a40e16cc",
      "content": "Three.js game - textures typed as unknown in recent versions. Cast texture.image when accessing for dimension calculations",
      "source": "manual",
      "created_at": "2026-01-24T23:59:50.156611",
      "tags": []
    },
    {
      "id": "8d9174c6",
      "content": "HUD elements connect via setter methods like setGrenadeSystem(). New HUD features need explicit wiring in PixelArtSandbox.ts",
      "source": "manual",
      "created_at": "2026-01-24T23:59:59.212304",
      "tags": []
    },
    {
      "id": "56c6def1",
      "content": "New weapon types require: WeaponSpec definition, GunplayCore instance, 3D model in ProgrammaticGunFactory, WeaponSlot enum value, key binding in onKeyDown, and InventoryManager slot",
      "source": "manual",
      "created_at": "2026-01-25T01:31:04.902960",
      "tags": []
    },
    {
      "id": "3f30ccd1",
      "content": "Score/feedback popups use CSS animations with object pooling - see ScorePopupSystem.ts and DamageNumberSystem.ts for patterns",
      "source": "manual",
      "created_at": "2026-01-25T01:42:25.116262",
      "tags": []
    },
    {
      "id": "b6769715",
      "content": "CSS animations should be injected once with unique style IDs and checked for existence before creating. Dispose methods must clean up injected styles",
      "source": "manual",
      "created_at": "2026-01-25T01:44:08.926433",
      "tags": []
    },
    {
      "id": "d6ce650a",
      "content": "DOM overlay effects use fixed positioning with pointer-events: none - avoids blocking game input",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.141675",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "e8d53b14",
      "content": "Object pooling for transient UI elements (popups, damage numbers) prevents GC spikes in render loop",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.142676",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "2f74e5cc",
      "content": "CSS animations should inject styles once with unique IDs and clean up on dispose()",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.143605",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "c24a1fc6",
      "content": "Weapon systems require 6 integration points: WeaponSpec, GunplayCore, 3D model, WeaponSlot, key binding, InventoryManager",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.144429",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "f3f02dbb",
      "content": "Suppression systems integrate via setter pattern: setPlayerSuppressionSystem() called in connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T01:55:41.200609",
      "tags": []
    },
    {
      "id": "970e1264",
      "content": "Suppression systems integrate via setter pattern: setPlayerSuppressionSystem() called in connectSystems()",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.089951",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "feb1c924",
      "content": "Near-miss detection uses distance threshold (2.5m) and registers hits in CombatantCombat.ts during enemy fire logic",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.091267",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "5f1800cb",
      "content": "Death animations use isDying flag and deathProgress (0-1) on Combatant. Renderer checks these in updateBillboards() around line 339",
      "source": "manual",
      "created_at": "2026-01-25T02:32:52.019835",
      "tags": []
    },
    {
      "id": "74080795",
      "content": "Before implementing features, search codebase first - grenade trajectory preview was already implemented (Task 2 discovered this)",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.935221",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "6ed70f26",
      "content": "Death animation uses isDying flag + deathProgress (0-1) in Combatant type to drive procedural effects in renderer",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.937901",
      "tags": [
        "global",
        "batch"
      ]
    }
  ],
  "warnings": [
    {
      "id": "ca69bb6b",
      "content": "Uncommitted MatchEndScreen work exists in src/ui/end/ and PlayerStatsTracker.ts - complete integration before shipping match flow improvements",
      "source": "manual",
      "created_at": "2026-01-24T23:59:58.306569",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "7648aa09",
      "content": "Uncommitted MatchEndScreen warning is now resolved - all match flow improvements are integrated",
      "source": "manual",
      "created_at": "2026-01-25T01:31:11.638306",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "092410fb",
      "content": "Shotgun weapon system already exists in codebase since initial commit - verify feature existence before creating tasks",
      "source": "manual",
      "created_at": "2026-01-25T01:42:19.233630",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "ec10cea2",
      "content": "Build produces 1.16MB bundle (warning threshold 500KB) - acceptable for Three.js game but monitor growth",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.145080",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "7a3ff212",
      "content": "Build size at 1.16MB - acceptable for Three.js game but monitor for growth",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.092399",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "34e2cd8b",
      "content": "Tasks 3+4 merged into single commit (588625c) - harder to rollback individual features",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.940558",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "68b60a0e",
      "content": "Task 5 was a test task (hello world) - should be filtered before batch evaluation",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.943194",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "873f39e8",
      "content": "Uncommitted files accumulating (SpatialOctree.ts, mortar files) - clean up or commit",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.946650",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "67fff655",
      "content": "Uncommitted work exists: SpatialOctree, MortarSystem reimplementation, CompassSystem zone markers - 667 lines of changes. Investigate and commit or discard.",
      "source": "manual",
      "created_at": "2026-01-25T02:33:34.466739",
      "tags": [],
      "severity": "low"
    }
  ],
  "context": [
    {
      "id": "7af53727",
      "content": "Combat AI uses state machine: PATROLLING, ALERT, ENGAGING, SUPPRESSING, ADVANCING, SEEKING_COVER, DEAD. Add new states to CombatantState enum in types.ts",
      "source": "manual",
      "created_at": "2026-01-24T23:59:51.149635",
      "tags": []
    },
    {
      "id": "ef87f95a",
      "content": "Player feedback systems: CameraShakeSystem for visual impact, PlayerSuppressionSystem for near-miss effects. Both integrate via SandboxSystemManager.connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T01:31:06.200095",
      "tags": []
    },
    {
      "id": "1c4c8de6",
      "content": "Weapon inventory uses hotbar keys 1-5: 1=Shotgun, 2=Grenades, 3=Rifle (primary), 4=Sandbags, 5=SMG. Switch via WeaponSlot enum",
      "source": "manual",
      "created_at": "2026-01-25T01:42:20.676061",
      "tags": []
    },
    {
      "id": "a2222fe9",
      "content": "DOM overlay systems (vignette, suppression) use fixed positioning with pointer-events: none and z-index layering. See PlayerSuppressionSystem.ts for pattern",
      "source": "manual",
      "created_at": "2026-01-25T01:44:08.067188",
      "tags": []
    },
    {
      "id": "c2698e7a",
      "content": "Near-miss detection uses distance threshold (2.5m) and triggers in CombatantCombat.ts during enemy fire logic at line 290",
      "source": "manual",
      "created_at": "2026-01-25T01:55:42.480196",
      "tags": []
    },
    {
      "id": "5d01b46f",
      "content": "GrenadeSystem already has trajectory preview with arc line and landing indicator. Check before implementing - search for 'trajectory' or 'preview'",
      "source": "manual",
      "created_at": "2026-01-25T02:32:53.481713",
      "tags": []
    }
  ],
  "updated_at": "2026-01-25T02:33:34.466757"
}