{
  "conventions": [
    {
      "id": "1f6db6e1",
      "content": "All tasks commit directly to master - no feature branches used. Verify build passes before committing with npm run build",
      "source": "manual",
      "created_at": "2026-01-24T23:59:48.704200",
      "tags": []
    },
    {
      "id": "a40e16cc",
      "content": "Three.js game - textures typed as unknown in recent versions. Cast texture.image when accessing for dimension calculations",
      "source": "manual",
      "created_at": "2026-01-24T23:59:50.156611",
      "tags": []
    },
    {
      "id": "8d9174c6",
      "content": "HUD elements connect via setter methods like setGrenadeSystem(). New HUD features need explicit wiring in PixelArtSandbox.ts",
      "source": "manual",
      "created_at": "2026-01-24T23:59:59.212304",
      "tags": []
    },
    {
      "id": "56c6def1",
      "content": "New weapon types require: WeaponSpec definition, GunplayCore instance, 3D model in ProgrammaticGunFactory, WeaponSlot enum value, key binding in onKeyDown, and InventoryManager slot",
      "source": "manual",
      "created_at": "2026-01-25T01:31:04.902960",
      "tags": []
    },
    {
      "id": "3f30ccd1",
      "content": "Score/feedback popups use CSS animations with object pooling - see ScorePopupSystem.ts and DamageNumberSystem.ts for patterns",
      "source": "manual",
      "created_at": "2026-01-25T01:42:25.116262",
      "tags": []
    },
    {
      "id": "b6769715",
      "content": "CSS animations should be injected once with unique style IDs and checked for existence before creating. Dispose methods must clean up injected styles",
      "source": "manual",
      "created_at": "2026-01-25T01:44:08.926433",
      "tags": []
    },
    {
      "id": "d6ce650a",
      "content": "DOM overlay effects use fixed positioning with pointer-events: none - avoids blocking game input",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.141675",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "e8d53b14",
      "content": "Object pooling for transient UI elements (popups, damage numbers) prevents GC spikes in render loop",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.142676",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "2f74e5cc",
      "content": "CSS animations should inject styles once with unique IDs and clean up on dispose()",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.143605",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "c24a1fc6",
      "content": "Weapon systems require 6 integration points: WeaponSpec, GunplayCore, 3D model, WeaponSlot, key binding, InventoryManager",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.144429",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "f3f02dbb",
      "content": "Suppression systems integrate via setter pattern: setPlayerSuppressionSystem() called in connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T01:55:41.200609",
      "tags": []
    },
    {
      "id": "970e1264",
      "content": "Suppression systems integrate via setter pattern: setPlayerSuppressionSystem() called in connectSystems()",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.089951",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "feb1c924",
      "content": "Near-miss detection uses distance threshold (2.5m) and registers hits in CombatantCombat.ts during enemy fire logic",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.091267",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "5f1800cb",
      "content": "Death animations use isDying flag and deathProgress (0-1) on Combatant. Renderer checks these in updateBillboards() around line 339",
      "source": "manual",
      "created_at": "2026-01-25T02:32:52.019835",
      "tags": []
    },
    {
      "id": "74080795",
      "content": "Before implementing features, search codebase first - grenade trajectory preview was already implemented (Task 2 discovered this)",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.935221",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "6ed70f26",
      "content": "Death animation uses isDying flag + deathProgress (0-1) in Combatant type to drive procedural effects in renderer",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.937901",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "01c153a7",
      "content": "Before implementing, search codebase - feature may already exist",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.743409",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "3208b58f",
      "content": "Verification docs useful for confirming integration points",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.746934",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "39612007",
      "content": "Always npm run build before marking task complete - catches type errors before commit",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.751733",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "c9fa1a9d",
      "content": "New UI systems (HUD elements, overlays) use fixed positioning with pointer-events: none",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.754503",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "11adbcfc",
      "content": "Match stats tracked via PlayerStatsTracker - extend interface and all consumers together",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.757531",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "37db79b4",
      "content": "Squad commands use SquadCommand enum (FOLLOW_ME, HOLD_POSITION, PATROL_HERE, RETREAT, FREE_ROAM) - see types.ts",
      "source": "manual",
      "created_at": "2026-01-25T09:05:41.398037",
      "tags": []
    },
    {
      "id": "572a1d1d",
      "content": "Before implementing new features, always search codebase first - SMG and Shotgun tasks discovered features already existed",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.251201",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "03eed6a5",
      "content": "Death cam systems use phase-based animation (freeze -> transition -> orbit) with camera lerping",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.252386",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "527acaf4",
      "content": "Radial menus use SVG with segment paths calculated from angle math - see SquadRadialMenu.ts pattern",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.253562",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "895ae38c",
      "content": "When task completes, run 'git status' to verify all new files are tracked and committed",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.254837",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "dbcdae94",
      "content": "For SVG elements use setAttribute('class', ...) not .className which is read-only on SVGElement",
      "source": "manual",
      "created_at": "2026-01-25T09:08:39.354547",
      "tags": []
    },
    {
      "id": "20bbdbd8",
      "content": "Match end stats flow: PlayerStatsTracker tracks kills/deaths/zones, HUDSystem.handleGameEnd() builds MatchStats, MatchEndScreen.show() displays with animations",
      "source": "manual",
      "created_at": "2026-01-25T09:08:50.270749",
      "tags": []
    },
    {
      "id": "7d68d946",
      "content": "Camera systems (DeathCam, shake) store original transform and use phaseTimer with named phases for smooth interpolation",
      "source": "manual",
      "created_at": "2026-01-25T09:09:44.249663",
      "tags": []
    },
    {
      "id": "58091240",
      "content": "Weapon switching uses InventoryManager with WeaponSlot enum - keys 1-5 map to SHOTGUN, GRENADE, RIFLE, SANDBAG, SMG",
      "source": "manual",
      "created_at": "2026-01-25T09:09:45.135569",
      "tags": []
    },
    {
      "id": "3d1281d7",
      "content": "When playtesting with Playwright, wait for game to fully load after clicking - use wait_for with 15-30s timeout. Loading screen completes when game world appears.",
      "source": "manual",
      "created_at": "2026-01-25T09:33:13.758411",
      "tags": []
    },
    {
      "id": "98d03ac3",
      "content": "AmmoSupplySystem spawns crates at capture zones - uses ZoneManager for positions, InventoryManager for refills. Connect in SandboxSystemManager.connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T09:33:19.846531",
      "tags": []
    },
    {
      "id": "e38dd643",
      "content": "Weather/atmosphere effects use WeatherSystem in src/systems/environment/ - modifies fog, lighting via ISandboxRenderer interface methods",
      "source": "manual",
      "created_at": "2026-01-25T09:39:56.421613",
      "tags": []
    },
    {
      "id": "984e52e1",
      "content": "Particle effects (rain, etc) use InstancedMesh with DynamicDrawUsage for GPU-efficient updates - see WeatherSystem.createRainParticles()",
      "source": "manual",
      "created_at": "2026-01-25T09:39:57.339055",
      "tags": []
    },
    {
      "id": "278f13d0",
      "content": "Weather/atmosphere effects use WeatherSystem - modifies fog, lighting via ISandboxRenderer interface",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.465366",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "e7b79f77",
      "content": "Use InstancedMesh with DynamicDrawUsage for particle effects (rain, debris, etc)",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.470063",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "ea24f1dd",
      "content": "When implementing particle systems in Three.js, use InstancedMesh with DynamicDrawUsage for efficient GPU updates",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.482994",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "365a3969",
      "content": "Weather/atmosphere systems should expose interfaces (ISandboxRenderer) for fog, lighting control rather than direct manipulation",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.487405",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "8504c6f7",
      "content": "WeatherSystem uses instanced rain mesh with 8000 particles, modifies fog/ambient/moon/jungle light intensities based on state. Connect via setSandboxRenderer() and setWeatherConfig()",
      "source": "manual",
      "created_at": "2026-01-25T09:42:10.347460",
      "tags": []
    },
    {
      "id": "2f1761f8",
      "content": "AmmoSupplySystem creates 3D crates at capture zones with proximity detection (5m) and per-player cooldowns (30s). Refills ammo, grenades, and sandbags when zone is US-controlled",
      "source": "manual",
      "created_at": "2026-01-25T09:42:16.940344",
      "tags": []
    },
    {
      "id": "a2039466",
      "content": "SandbagSystem has terrain validation: getTerrainSlope() samples 4 points to check slope (max 30 deg), isInWater() checks if y < 1.0. Preview mesh uses pulse effect via pulseTime variable",
      "source": "manual",
      "created_at": "2026-01-25T09:42:28.733994",
      "tags": []
    },
    {
      "id": "2b2bd1db",
      "content": "When connecting audio systems to combat, use AudioManager.getListener().context - never create new AudioContext() directly",
      "source": "manual",
      "created_at": "2026-01-25T14:32:47.652679",
      "tags": []
    },
    {
      "id": "f9ad764e",
      "content": "Use WeatherSystem.setUnderwater() to override atmosphere - has priority flag to prevent weather cycles from interfering",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.868811",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "19f3f6d9",
      "content": "Game end flow: TicketSystem.checkVictoryConditions() -> endGame() -> onGameEnd callback -> HUDSystem.handleGameEnd() -> MatchEndScreen.show()",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.903667",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "42f77421",
      "content": "Voice callout systems should use distance-based filtering (50m reasonable) and per-combatant cooldowns to prevent audio spam",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.921260",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "6d98a827",
      "content": "Underwater effects pattern: check camera.position.y vs water level, use WeatherSystem priority override for fog/lighting",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.923578",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "af7e2433",
      "content": "FirstPersonWeapon is now modular: WeaponRigManager handles models, WeaponAnimations handles motion/ADS/recoil, WeaponFiring handles shots/hit-detection, WeaponReload handles reload animation. Edit the correct module for weapon changes.",
      "source": "manual",
      "created_at": "2026-01-25T16:28:21.347673+00:00",
      "tags": []
    },
    {
      "id": "0a403ea4",
      "content": "Module extraction pattern works well: orchestrator < 500 lines, delegate modules < 300 lines each",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.273417+00:00",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "0573ab87",
      "content": "Cursor agent handles large refactoring tasks reliably",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.276180+00:00",
      "tags": [
        "success",
        "merge"
      ]
    },
    {
      "id": "40c6a677",
      "content": "Modular refactoring works well for files over 500 lines - extract by responsibility (rendering, logic, animation)",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.280826+00:00",
      "tags": [
        "global",
        "batch"
      ]
    },
    {
      "id": "7718bc24",
      "content": "Keep working tree clean between task batches - uncommitted changes cause merge conflicts",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.284225+00:00",
      "tags": [
        "global",
        "batch"
      ]
    }
  ],
  "warnings": [
    {
      "id": "ca69bb6b",
      "content": "Uncommitted MatchEndScreen work exists in src/ui/end/ and PlayerStatsTracker.ts - complete integration before shipping match flow improvements",
      "source": "manual",
      "created_at": "2026-01-24T23:59:58.306569",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "7648aa09",
      "content": "Uncommitted MatchEndScreen warning is now resolved - all match flow improvements are integrated",
      "source": "manual",
      "created_at": "2026-01-25T01:31:11.638306",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "092410fb",
      "content": "Shotgun weapon system already exists in codebase since initial commit - verify feature existence before creating tasks",
      "source": "manual",
      "created_at": "2026-01-25T01:42:19.233630",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "ec10cea2",
      "content": "Build produces 1.16MB bundle (warning threshold 500KB) - acceptable for Three.js game but monitor growth",
      "source": "shepard",
      "created_at": "2026-01-25T01:44:37.145080",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "7a3ff212",
      "content": "Build size at 1.16MB - acceptable for Three.js game but monitor for growth",
      "source": "shepard",
      "created_at": "2026-01-25T01:55:53.092399",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "34e2cd8b",
      "content": "Tasks 3+4 merged into single commit (588625c) - harder to rollback individual features",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.940558",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "68b60a0e",
      "content": "Task 5 was a test task (hello world) - should be filtered before batch evaluation",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.943194",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "873f39e8",
      "content": "Uncommitted files accumulating (SpatialOctree.ts, mortar files) - clean up or commit",
      "source": "shepard",
      "created_at": "2026-01-25T02:32:58.946650",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "67fff655",
      "content": "Uncommitted work exists: SpatialOctree, MortarSystem reimplementation, CompassSystem zone markers - 667 lines of changes. Investigate and commit or discard.",
      "source": "manual",
      "created_at": "2026-01-25T02:33:34.466739",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "ffee8300",
      "content": "Multiple tasks left untracked files without committing - 4 new systems sitting uncommitted",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.759830",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "c68e7091",
      "content": "SVG elements require setAttribute('class', ...) not .className assignment (readonly in TS)",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.762053",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "622cccfb",
      "content": "When extending interfaces (MatchStats), update all places that construct the object",
      "source": "shepherd",
      "created_at": "2026-01-25T09:04:59.764218",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "cb5817dc",
      "content": "Tasks claiming 'done' left 1000+ lines of code uncommitted (DeathCamSystem, SquadRadialMenu, WeaponPickupSystem). Verify with git status before marking done.",
      "source": "manual",
      "created_at": "2026-01-25T09:05:39.819158",
      "tags": [],
      "severity": "high"
    },
    {
      "id": "09e9f5ff",
      "content": "Tasks 1, 3, 5 marked 'done' but left significant work uncommitted - agents need to verify commits before completing",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.256101",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "1a45afde",
      "content": "SVG elements use setAttribute('class', value) not .className (readonly in TypeScript)",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.257561",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "b3e019f1",
      "content": "When adding new properties to interfaces like MatchStats, update ALL object constructors that use it",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.258880",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "afeffcc5",
      "content": "Current build is broken due to uncommitted type changes - fix before new work",
      "source": "shepherd",
      "created_at": "2026-01-25T09:05:57.260314",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "781907e7",
      "content": "Untracked .ts files in src/ will fail the build - TypeScript compiles all files in src/ per tsconfig.json. Either commit new files or add to .gitignore",
      "source": "manual",
      "created_at": "2026-01-25T09:08:37.708725",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "2cb7ef76",
      "content": "Several work-in-progress files exist uncommitted: DeathCamSystem, WeaponPickupSystem, SquadRadialMenu, LoadoutSelector, AICoverSystem, AIFlankingSystem. These need Combatant type extensions (isFlankingMove) to build",
      "source": "manual",
      "created_at": "2026-01-25T09:08:51.321930",
      "tags": [],
      "severity": "low"
    },
    {
      "id": "7c8e24a0",
      "content": "Task 2 (AI combat voice callouts) marked done but no evidence of implementation found - may need re-execution or the agent may have misreported completion",
      "source": "manual",
      "created_at": "2026-01-25T09:33:26.143328",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "f7397921",
      "content": "codex agent received wrong repo path - mycelium instead of terror-in-the-jungle. Verify repo paths in task creation",
      "source": "manual",
      "created_at": "2026-01-25T09:39:58.211022",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "bf2d6473",
      "content": "Task 4 (AI combat voice callouts) was marked done but no implementation exists - RadioTransmissionSystem handles ambient radio, not AI callouts. Agent may have misreported completion",
      "source": "manual",
      "created_at": "2026-01-25T09:39:59.268053",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "987fb756",
      "content": "Verify repo paths when creating tasks - codex received mycelium path instead of terror-in-the-jungle",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.476258",
      "tags": [
        "failure",
        "reject"
      ],
      "severity": "medium"
    },
    {
      "id": "95c7fafb",
      "content": "AI combat voice callouts task (Task 4) was falsely marked complete - no implementation found. RadioTransmissionSystem is ambient radio only, not tactical callouts",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.491469",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "6e40d2c8",
      "content": "Verify codex agent receives correct repo path in task creation - routing error caused complete task failure",
      "source": "shepherd",
      "created_at": "2026-01-25T09:40:43.495463",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "9611a438",
      "content": "Task 3 (AI combat voice callouts) was marked done but has no implementation. The existing RadioTransmissionSystem is for ambient ghostly transmissions, not combat callouts. Re-execute or verify before marking tasks complete",
      "source": "manual",
      "created_at": "2026-01-25T09:42:23.060517",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "36a5ca48",
      "content": "VoiceCalloutSystem (Task 1) has uncommitted work that breaks build - applyDamage calls allCombatants without checking undefined. Fix: add guard 'if (allCombatants)' at line 464 in CombatantCombat.ts, and wire setVoiceCalloutSystem in SandboxSystemManager.connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T14:32:46.751951",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "48be3d01",
      "content": "Codex agent received wrong repo path in task dispatch - verify task creation passes correct --repo flag",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.909378",
      "tags": [
        "failure",
        "reject"
      ],
      "severity": "medium"
    },
    {
      "id": "23975990",
      "content": "When cursor agent works on existing branches, verify branch is rebased on master first",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.915350",
      "tags": [
        "failure",
        "reject"
      ],
      "severity": "medium"
    },
    {
      "id": "e94f3aab",
      "content": "Stale feature branches can cause regressions - always check git log to see if branch is behind master before evaluating",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.925396",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "9217cee6",
      "content": "Codex agent sandbox restrictions may cause it to write to wrong repo - verify file actually exists in target repo",
      "source": "shepherd",
      "created_at": "2026-01-25T14:33:36.927185",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "9f4e90f8",
      "content": "Codex agent sandbox cannot write to main repo - patches saved to /tmp/ and docs/patches/. Need manual application or use claude/cursor instead.",
      "source": "manual",
      "created_at": "2026-01-25T16:28:15.142686+00:00",
      "tags": [],
      "severity": "medium"
    },
    {
      "id": "463c9080",
      "content": "Gemini agent has frequent 429 rate limits on gemini-3-pro-preview - use as fallback only",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.287930+00:00",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    },
    {
      "id": "5791c228",
      "content": "Codex sandbox cannot write to external repos - patches go to /tmp/ and need manual application",
      "source": "shepherd",
      "created_at": "2026-01-25T16:28:55.291947+00:00",
      "tags": [
        "global",
        "batch"
      ],
      "severity": "medium"
    }
  ],
  "context": [
    {
      "id": "7af53727",
      "content": "Combat AI uses state machine: PATROLLING, ALERT, ENGAGING, SUPPRESSING, ADVANCING, SEEKING_COVER, DEAD. Add new states to CombatantState enum in types.ts",
      "source": "manual",
      "created_at": "2026-01-24T23:59:51.149635",
      "tags": []
    },
    {
      "id": "ef87f95a",
      "content": "Player feedback systems: CameraShakeSystem for visual impact, PlayerSuppressionSystem for near-miss effects. Both integrate via SandboxSystemManager.connectSystems()",
      "source": "manual",
      "created_at": "2026-01-25T01:31:06.200095",
      "tags": []
    },
    {
      "id": "1c4c8de6",
      "content": "Weapon inventory uses hotbar keys 1-5: 1=Shotgun, 2=Grenades, 3=Rifle (primary), 4=Sandbags, 5=SMG. Switch via WeaponSlot enum",
      "source": "manual",
      "created_at": "2026-01-25T01:42:20.676061",
      "tags": []
    },
    {
      "id": "a2222fe9",
      "content": "DOM overlay systems (vignette, suppression) use fixed positioning with pointer-events: none and z-index layering. See PlayerSuppressionSystem.ts for pattern",
      "source": "manual",
      "created_at": "2026-01-25T01:44:08.067188",
      "tags": []
    },
    {
      "id": "c2698e7a",
      "content": "Near-miss detection uses distance threshold (2.5m) and triggers in CombatantCombat.ts during enemy fire logic at line 290",
      "source": "manual",
      "created_at": "2026-01-25T01:55:42.480196",
      "tags": []
    },
    {
      "id": "5d01b46f",
      "content": "GrenadeSystem already has trajectory preview with arc line and landing indicator. Check before implementing - search for 'trajectory' or 'preview'",
      "source": "manual",
      "created_at": "2026-01-25T02:32:53.481713",
      "tags": []
    },
    {
      "id": "c48c850e",
      "content": "AI state handlers are modular files in src/systems/combat/ai/ (AIStatePatrol, AIStateEngage, etc). CombatantAI imports and coordinates them",
      "source": "manual",
      "created_at": "2026-01-25T09:08:40.683863",
      "tags": []
    },
    {
      "id": "4d430fbb",
      "content": "WaterSystem underwater effects (Task 2) implemented: camera tracking, dense fog override via WeatherSystem.setUnderwater(), and DOM-based blur overlay. WeatherSystem has isUnderwater flag and underwaterAtmosphere config",
      "source": "manual",
      "created_at": "2026-01-25T14:32:54.720230",
      "tags": []
    },
    {
      "id": "b6605750",
      "content": "TDM (Team Deathmatch) mode implemented: kill-based victory (75 kills), no zone capture, 5 min rounds. TicketSystem tracks faction kills with usKills/opforKills fields.",
      "source": "manual",
      "created_at": "2026-01-25T16:28:27.030970+00:00",
      "tags": []
    }
  ],
  "updated_at": "2026-01-25T16:28:55.291971+00:00"
}